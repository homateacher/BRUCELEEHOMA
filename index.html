<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>호마맨 진리의 명언 200+</title>
    <style>
      body {
        font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        background: #f8f6f1;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1 { font-size: 28px; font-weight: 800; margin-bottom: 16px; }
      input, button { border-radius: 10px; border: 1px solid #7c735f; padding: 10px 14px; background: #fefcf7; }
      .toolbar { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; justify-content: center; }
      .scene { width: 90%; max-width: 640px; height: 320px; perspective: 1000px; }
      .card { width: 100%; height: 100%; position: relative; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 22px; box-shadow: 0 12px 28px rgba(0,0,0,0.08), 0 6px 14px rgba(0,0,0,0.05); border: 1px solid #d8cbb2; }
      .card.is-flipped { transform: rotateY(180deg); }
      .card__face {
        position: absolute; inset: 0; backface-visibility: hidden; border-radius: 22px;
        display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 26px;
        background: linear-gradient(145deg, #fffdfa 0%, #fff7ea 50%, #fff3de 100%);
        font-size: 22px; line-height: 1.4;
      }
      .card__face--back { transform: rotateY(180deg); }
      .navs { display: flex; justify-content: space-between; width: 200px; margin: 10px 0; }
      .muted { opacity: .6; font-size: 14px; }
    </style>
  </head>
  <body>
    <h1>🌟 호마맨 진리의 명언 200+</h1>
    <div class="toolbar">
      <input id="search" placeholder="검색(명언/인물/출처)" />
      <button id="shuffle">🔀 셔플</button>
      <button id="flip">↩️ 뒤집기</button>
      <label><input type="checkbox" id="soundToggle" checked /> 사운드</label>
    </div>

    <div class="scene" id="scene">
      <div class="card" id="card">
        <div class="card__face card__face--front" id="front">오늘의 명언 공부 ✨</div>
        <div class="card__face card__face--back" id="back"></div>
      </div>
    </div>

    <div class="navs">
      <button id="prev">◀</button>
      <button id="next">▶</button>
    </div>
    <div id="meta" class="muted"></div>

    <script>
      // === 대용량 데이터: 문자열 → 객체 파싱 (메모리·토큰 최적화)
const RAW = `
오늘의 명언 공부 ✨|사람을 미워하지 마라 그 사람을 조종하는 사탄을 미워하라.|호마맨
오늘의 명언 공부 ✨|불가능은 노력하지 않는 사람의 핑계다.|마이클 조던
오늘의 명언 공부 ✨|나는 실패하지 않았다. 작동하지 않는 방법을 1만 가지 찾았을 뿐.|토머스 에디슨
오늘의 명언 공부 ✨|한 가지 발차기를 만 번 연습한 자를 두려워한다.|이소룡
오늘의 명언 공부 ✨|믿는 자에게는 능치 못함이 없느니라.|예수님/누가복음 1:37
오늘의 명언 공부 ✨|사람은 자신이 생각한 대로 된다.|에머슨
오늘의 명언 공부 ✨|성공은 작은 노력을 반복한 총합이다.|로버트 콜리어
오늘의 명언 공부 ✨|고통은 일시적, 포기는 영원.|랜스 암스트롱
오늘의 명언 공부 ✨|두려움은 마주할 때 사라진다.|데일 카네기
오늘의 명언 공부 ✨|승리는 가장 끈질긴 자의 것.|나폴레옹
오늘의 명언 공부 ✨|믿음은 보지 못하는 것의 증거다.|히브리서 11:1
오늘의 명언 공부 ✨|꿈꾸는 자만이 기적을 만든다.|월트 디즈니
오늘의 명언 공부 ✨|오늘의 땀은 내일의 미소.|우사인 볼트
오늘의 명언 공부 ✨|패배는 마음의 상태일 뿐.|이소룡
오늘의 명언 공부 ✨|단순함이 영감의 열쇠다.|이소룡
오늘의 명언 공부 ✨|물처럼 되어라. 형태를 버려라.|이소룡
오늘의 명언 공부 ✨|말과 행동을 일치시켜라.|예수님/마태 7:24
오늘의 명언 공부 ✨|네 이웃을 네 몸과 같이 사랑하라.|예수님/마태 22:39
오늘의 명언 공부 ✨|원수를 사랑하라, 박해자를 위해 기도하라.|예수님/마태 5:44
오늘의 명언 공부 ✨|좁은 문으로 들어가라.|예수님/마태 7:13
오늘의 명언 공부 ✨|두려워 말라, 내가 너와 함께함이라.|이사야 41:10
오늘의 명언 공부 ✨|사랑은 오래 참고 온유하며 시기하지 않는다.|고린도전서 13:4
오늘의 명언 공부 ✨|진리가 너희를 자유롭게 하리라.|요한복음 8:32
오늘의 명언 공부 ✨|구하라, 그러면 주실 것이다.|마태 7:7
오늘의 명언 공부 ✨|먼저 그의 나라와 의를 구하라.|마태 6:33
오늘의 명언 공부 ✨|약한 자에게 강함을 보이라.|사사기 요지
오늘의 명언 공부 ✨|주라, 그리하면 너희에게 줄 것이다.|누가 6:38
오늘의 명언 공부 ✨|모든 일에 감사하라.|데살로니가전서 5:18
오늘의 명언 공부 ✨|온유한 자는 복이 있나니 그들이 땅을 기업으로 받으리라.|마태 5:5
오늘의 명언 공부 ✨|마음이 청결한 자는 복이 있나니 하나님을 볼 것이라.|마태 5:8
오늘의 명언 공부 ✨|의에 주리고 목마른 자는 복이 있나니.|마태 5:6
오늘의 명언 공부 ✨|너희는 세상의 빛이다.|마태 5:14
오늘의 명언 공부 ✨|네가 만일 믿으면 능치 못할 일이 없다.|마가 9:23
오늘의 명언 공부 ✨|지속은 천재를 이긴다.|무함마드 알리
오늘의 명언 공부 ✨|상상은 지식보다 중요하다.|아인슈타인
오늘의 명언 공부 ✨|성공은 준비와 기회의 만남.|세네카
오늘의 명언 공부 ✨|네가 반복해서 하는 것이 곧 너다.|아리스토텔레스
오늘의 명언 공부 ✨|스스로를 이기는 자가 가장 강하다.|공자
오늘의 명언 공부 ✨|행복은 습관이다. 길러라.|허버트
오늘의 명언 공부 ✨|목표는 방향을 준다.|브루스 리
오늘의 명언 공부 ✨|나는 더 나아지거나, 변명하거나.|짐 론
오늘의 명언 공부 ✨|변화는 고통의 끝에서 시작된다.|토니 로빈스
오늘의 명언 공부 ✨|꾸준함이 재능을 이긴다.|케빈 듀란트
오늘의 명언 공부 ✨|실패는 더 똑똑해지는 수업료.|빌 게이츠
오늘의 명언 공부 ✨|절제는 자유를 낳는다.|스토아 철학
오늘의 명언 공부 ✨|현재에 집중하라.|에크하르트 톨레
오늘의 명언 공부 ✨|중요하지 않은 것을 버려라.|에센셜리즘
오늘의 명언 공부 ✨|노력 없이 얻는 것은 없다.|격언
오늘의 명언 공부 ✨|시작이 반이다.|전승
오늘의 명언 공부 ✨|내일의 가장 좋은 준비는 오늘 최선을 다하는 것.|잭슨 브라운 Sr.
오늘의 명언 공부 ✨|작게 시작해 크게 성장하라.|린 스타트업
오늘의 명언 공부 ✨|준비된 자에게 기회가 온다.|파스퇴르
오늘의 명언 공부 ✨|고요함 속에서 힘이 자란다.|무도 격언
오늘의 명언 공부 ✨|포기하지 않는 한 너는 지지 않는다.|조던 피터슨 요지
오늘의 명언 공부 ✨|인내는 쓰나 그 열매는 달다.|아리스토텔레스
오늘의 명언 공부 ✨|네가 보는 것이 네가 되는 것이다.|무도 철학
오늘의 명언 공부 ✨|영광은 땀 뒤에 온다.|스포츠 격언
오늘의 명언 공부 ✨|기회는 준비된 마음을 사랑한다.|파스퇴르
오늘의 명언 공부 ✨|지식은 힘, 성품이 방향.|격언
오늘의 명언 공부 ✨|네 한계를 의심하라, 가능성은 의심하지 말라.|격언
오늘의 명언 공부 ✨|날마다 작게 이겨라.|제임스 클리어
오늘의 명언 공부 ✨|규율이 자유다.|조코 윌링크
오늘의 명언 공부 ✨|집중은 평범한 사람을 전사로 만든다.|브루스 리
오늘의 명언 공부 ✨|천천히는 괜찮다. 멈추지만 마라.|격언
오늘의 명언 공부 ✨|한 번에 한 걸음.|테레사 수녀
오늘의 명언 공부 ✨|겸손은 모든 미덕의 토대.|어거스틴
오늘의 명언 공부 ✨|어제보다 나은 나.|카이젠
오늘의 명언 공부 ✨|네 마음을 지켜라, 생명의 근원이 이에서 남이라.|잠언 4:23
오늘의 명언 공부 ✨|온유한 대답은 분노를 쉬게 한다.|잠언 15:1
오늘의 명언 공부 ✨|미련한 자는 분노를 드러내나 슬기로운 자는 참는다.|잠언 12:16
오늘의 명언 공부 ✨|정직한 자의 행위는 그를 인도한다.|잠언 11:3
오늘의 명언 공부 ✨|지혜는 얻는 자에게 생명나무다.|잠언 3:18
오늘의 명언 공부 ✨|넘어져도 의인은 다시 일어난다.|잠언 24:16
오늘의 명언 공부 ✨|사랑은 허다한 죄를 덮느니라.|베드로전서 4:8
오늘의 명언 공부 ✨|모든 것을 시험하고 좋은 것을 취하라.|데살로니가전서 5:21
오늘의 명언 공부 ✨|빛은 어둠에 비친다.|요한 1:5
오늘의 명언 공부 ✨|작지만 확실한 전진.|격언
오늘의 명언 공부 ✨|행동은 두려움을 치유한다.|데일 카네기
오늘의 명언 공부 ✨|완벽보다 완성.|격언
오늘의 명언 공부 ✨|비교는 기쁨의 도둑이다.|루스벨트
오늘의 명언 공부 ✨|감사는 충분함을 만든다.|격언
오늘의 명언 공부 ✨|기초를 천천히, 깊게.|스승의 가르침
오늘의 명언 공부 ✨|연습은 배신하지 않는다.|스포츠 격언
오늘의 명언 공부 ✨|자기관리야말로 최고의 투자.|버핏 요지
오늘의 명언 공부 ✨|리스크는 모를 때 생긴다. 공부하라.|버핏 요지
오늘의 명언 공부 ✨|신념은 근육과 같다. 사용하면 강해진다.|격언
오늘의 명언 공부 ✨|자유는 책임에서 시작한다.|에리히 프롬 요지
오늘의 명언 공부 ✨|실수를 두려워 말라. 같은 실수를 두려워하라.|격언
오늘의 명언 공부 ✨|의미를 향해 살라.|빅터 프랭클
오늘의 명언 공부 ✨|네가 찾는 것도 너를 찾는다.|루미
오늘의 명언 공부 ✨|사랑은 최고의 전략.|격언
오늘의 명언 공부 ✨|타인을 이기려 말고 어제를 이겨라.|격언
오늘의 명언 공부 ✨|배움은 겸손에서 시작한다.|탈무드
오늘의 명언 공부 ✨|꾸준함은 왕이다.|격언
오늘의 명언 공부 ✨|용기는 두려움의 극복.|넬슨 만델라
오늘의 명언 공부 ✨|평정은 최고의 무기.|마커스 아우렐리우스
오늘의 명언 공부 ✨|우리가 반복하는 것이 우리가 된다.|아리스토텔레스
오늘의 명언 공부 ✨|연민은 강함의 표현.|달라이라마
오늘의 명언 공부 ✨|시간은 가장 귀한 자산.|브루스 리 요지
오늘의 명언 공부 ✨|빚지지 말고 사랑만 지라.|로마서 13:8
오늘의 명언 공부 ✨|기도하고, 일하라.|베네딕트 규칙
오늘의 명언 공부 ✨|오늘 할 수 있는 최선.|격언
오늘의 명언 공부 ✨|작게라도 매일 전진.|격언
오늘의 명언 공부 ✨|비전은 마음으로 본다.|격언
오늘의 명언 공부 ✨|답은 행동 속에 있다.|격언
오늘의 명언 공부 ✨|겸손은 배움의 문을 연다.|격언
오늘의 명언 공부 ✨|헌신은 재능을 앞선다.|코비 브라이언트 요지
오늘의 명언 공부 ✨|오늘의 훈련이 내일의 자신감.|스포츠 격언
오늘의 명언 공부 ✨|규율 없이는 자유 없다.|윌링크
오늘의 명언 공부 ✨|목적을 잃지 말라.|잡스 요지
오늘의 명언 공부 ✨|단순하게, 집요하게.|격언
오늘의 명언 공부 ✨|실천이 지식을 완성한다.|아리스토텔레스 요지
오늘의 명언 공부 ✨|모든 시작은 작다.|키케로 요지
오늘의 명언 공부 ✨|말보다 본.|프란시스 아시시 요지
오늘의 명언 공부 ✨|사랑은 두려움을 내쫓는다.|요한1서 4:18
오늘의 명언 공부 ✨|약속을 지키는 것이 신뢰다.|격언
오늘의 명언 공부 ✨|비난 대신 책임.|스티븐 코비 요지
오늘의 명언 공부 ✨|우리는 반복으로 성장한다.|격언
오늘의 명언 공부 ✨|절제된 자유가 창의성을 낳는다.|격언
오늘의 명언 공부 ✨|타이밍은 준비의 또 다른 이름.|격언
오늘의 명언 공부 ✨|사소함을 잘하라.|격언
오늘의 명언 공부 ✨|감정은 손님, 가치는 집주인.|스토아 요지
오늘의 명언 공부 ✨|침묵 속에 답이 있다.|격언
오늘의 명언 공부 ✨|집중은 '아니오'에서 시작.|잡스 요지
오늘의 명언 공부 ✨|작은 친절이 큰 세상을 바꾼다.|격언
오늘의 명언 공부 ✨|절망 말라, 길은 있다.|격언
오늘의 명언 공부 ✨|지혜는 고통을 헛되이 하지 않는다.|격언
오늘의 명언 공부 ✨|훈련은 자유를 준다.|윌링크 요지
오늘의 명언 공부 ✨|할 수 있다고 믿으면 절반은 왔다.|루스벨트
오늘의 명언 공부 ✨|되기 전에 되어 행동하라.|격언
오늘의 명언 공부 ✨|자비는 강함의 다른 이름.|격언
오늘의 명언 공부 ✨|관점이 현실을 만든다.|격언
오늘의 명언 공부 ✨|자존감은 약속을 지키는 데서 자란다.|격언
오늘의 명언 공부 ✨|의심은 실패보다 더 많은 꿈을 죽인다.|수지 카셈 요지
오늘의 명언 공부 ✨|시간을 낭비하지 말라. 인생은 시간으로 이뤄졌다.|브루스 리
오늘의 명언 공부 ✨|가장 어두운 밤이 가장 밝은 새벽을 낳는다.|격언
오늘의 명언 공부 ✨|연약함을 인정하는 것이 용기의 시작.|브레네 브라운 요지
오늘의 명언 공부 ✨|칼을 쳐서 보습을 만들라.|이사야 2:4
오늘의 명언 공부 ✨|네 말이 네 세계를 만든다.|잠언 18:21 요지
오늘의 명언 공부 ✨|성공은 습관의 아들.|격언
오늘의 명언 공부 ✨|진리는 단순하다. 우리가 복잡하게 할 뿐.|톨스토이 요지
오늘의 명언 공부 ✨|최고는 꾸준함에서 나온다.|격언
오늘의 명언 공부 ✨|바른 길은 때로 가장 좁다.|예수님 요지
오늘의 명언 공부 ✨|힘들 때일수록 더 친절하라.|달라이 라마 요지
오늘의 명언 공부 ✨|배움은 끝이 없다.|공자
오늘의 명언 공부 ✨|품격은 선택이다.|격언
오늘의 명언 공부 ✨|용서는 포로를 자유케 한다. 그 포로는 너다.|루이스 스미디즈 요지
오늘의 명언 공부 ✨|성실은 가장 긴 레버.|격언
오늘의 명언 공부 ✨|하루하루 쌓아 산을 만든다.|중국 속담
오늘의 명언 공부 ✨|지금, 여기, 전심.|선 불교 요지
오늘의 명언 공부 ✨|가장 좋은 복수는 성공.|격언
오늘의 명언 공부 ✨|도전은 너를 소개한다.|격언
오늘의 명언 공부 ✨|위기는 기회를 숨긴다.|격언
오늘의 명언 공부 ✨|뿌린 대로 거둔다.|갈라디아서 6:7
오늘의 명언 공부 ✨|성공은 운이 아니라 패턴.|격언
오늘의 명언 공부 ✨|항상 배울 준비를 하라.|격언
오늘의 명언 공부 ✨|사랑은 결코 실패하지 않는다.|고린도전서 13:8 요지
오늘의 명언 공부 ✨|지혜로운 자는 듣고 더 배운다.|잠언 1:5
오늘의 명언 공부 ✨|마음이 바뀌면 세계가 바뀐다.|격언
오늘의 명언 공부 ✨|핵심을 잡아라. 나머지는 흩어진다.|격언
오늘의 명언 공부 ✨|하루를 디자인하라.|격언
오늘의 명언 공부 ✨|평화는 강함에서 온다.|로마 격언
오늘의 명언 공부 ✨|사소한 습관이 운명을 쓴다.|격언
오늘의 명언 공부 ✨|겸손은 왕들의 미덕.|마키아벨리 요지
오늘의 명언 공부 ✨|감정을 다스리는 자가 도시를 정복한 자보다 강하다.|잠언 16:32
오늘의 명언 공부 ✨|욕망을 다스려라. 그렇지 않으면 욕망이 너를 다스린다.|스토아 요지
오늘의 명언 공부 ✨|배고픔을 친구로 삼아라.|무사도 요지
오늘의 명언 공부 ✨|목표는 나침반이지 족쇄가 아니다.|격언
오늘의 명언 공부 ✨|네 안에 있는 것을 밖으로 끌어내라.|격언
오늘의 명언 공부 ✨|오늘의 작은 약속을 지켜라.|격언
오늘의 명언 공부 ✨|기쁨은 선택이다.|격언
오늘의 명언 공부 ✨|부지런함은 행운의 어머니.|프랭클린 요지
오늘의 명언 공부 ✨|의로움은 지름길이 아니다.|격언
오늘의 명언 공부 ✨|너그럽게, 단호하게.|격언
오늘의 명언 공부 ✨|한 사람의 용기가 역사를 바꾼다.|격언
오늘의 명언 공부 ✨|좋은 씨를 뿌려라. 때가 되면 거둔다.|격언
오늘의 명언 공부 ✨|빛이 되라.|예수님 요지
오늘의 명언 공부 ✨|자신을 지휘하라.|격언
오늘의 명언 공부 ✨|초심을 잃지 말라.|공자 요지
오늘의 명언 공부 ✨|모르는 것을 안다고 하지 말라.|소크라테스 요지
오늘의 명언 공부 ✨|진실은 변명하지 않는다.|격언
오늘의 명언 공부 ✨|강함은 고요함에서 자란다.|격언
오늘의 명언 공부 ✨|시간과 싸우지 말고 협력하라.|격언
오늘의 명언 공부 ✨|믿음은 산을 옮긴다.|마태 17:20
오늘의 명언 공부 ✨|정의는 평화를 만든다.|이사야 32:17 요지
오늘의 명언 공부 ✨|가난할 때 베푸는 것이 진짜 부.|격언
오늘의 명언 공부 ✨|배움을 멈추는 순간 낙오.|격언
오늘의 명언 공부 ✨|지혜는 고요한 목소리다.|격언
오늘의 명언 공부 ✨|감사 일기를 써라. 삶이 변한다.|격언
오늘의 명언 공부 ✨|낭비는 도둑이다.|격언
오늘의 명언 공부 ✨|고통을 의미로 바꿔라.|빅터 프랭클
오늘의 명언 공부 ✨|사랑은 최고의 무기.|격언
오늘의 명언 공부 ✨|성장을 선택하라, 편안을 경계하라.|격언
오늘의 명언 공부 ✨|자기 통제가 진짜 힘.|격언
오늘의 명언 공부 ✨|선한 영향력이 되라.|격언
오늘의 명언 공부 ✨|남 탓 말고 내 몫을 하라.|격언
오늘의 명언 공부 ✨|쓸모없는 걱정을 버려라.|격언
오늘의 명언 공부 ✨|빛은 어둠이 가장 깊을 때 가장 밝다.|격언
오늘의 명언 공부 ✨|마음이 움직이면 세계가 움직인다.|격언
오늘의 명언 공부 ✨|평범을 거부하라.|격언
오늘의 명언 공부 ✨|부드러움이 강함을 이긴다.|노자 요지
오늘의 명언 공부 ✨|작은 선의가 큰 악을 이긴다.|격언
오늘의 명언 공부 ✨|의미 있는 고통을 선택하라.|격언
오늘의 명언 공부 ✨|사랑으로 진리를 말하라.|에베소서 4:15 요지
오늘의 명언 공부 ✨|겸손히 걸어라.|미가 6:8 요지
오늘의 명언 공부 ✨|수고한 자들아, 내가 쉬게 하리라.|마태 11:28 요지
오늘의 명언 공부 ✨|너희 염려를 다 맡기라.|베드로전서 5:7 요지
오늘의 명언 공부 ✨|용서하라, 너희가 용서받을 것이다.|누가 6:37
오늘의 명언 공부 ✨|상처는 지혜의 문.|격언
오늘의 명언 공부 ✨|말을 줄이고 실행을 늘려라.|격언
오늘의 명언 공부 ✨|매일 같은 시간, 같은 자리.|루틴
오늘의 명언 공부 ✨|깊이 집중하면 시간이 늘어난다.|격언
오늘의 명언 공부 ✨|낮은 자세가 높은 곳으로 이끈다.|격언
오늘의 명언 공부 ✨|진짜 부는 나눌수록 커진다.|격언
오늘의 명언 공부 ✨|실패를 친구로 만들어라.|격언
오늘의 명언 공부 ✨|기술은 간결함에서 완성된다.|무도
오늘의 명언 공부 ✨|당신의 생각을 지켜라. 행동이 된다.|잠언 요지
오늘의 명언 공부 ✨|오늘을 지배하라.|격언
오늘의 명언 공부 ✨|투명함이 신뢰를 만든다.|격언
오늘의 명언 공부 ✨|선한 습관으로 자신을 설계하라.|격언
오늘의 명언 공부 ✨|사랑은 결코 실패하지 않는다.|고전 13장 요지
오늘의 명언 공부 ✨|겸손은 진보의 문.|격언
오늘의 명언 공부 ✨|진리는 결국 이긴다.|간디 요지
오늘의 명언 공부 ✨|행동하라, 그리고 조정하라.|격언
오늘의 명언 공부 ✨|첫 단추를 올바로.|격언
오늘의 명언 공부 ✨|가장 중요한 것을 먼저.|스티븐 코비
오늘의 명언 공부 ✨|대부분의 벽은 마음속에 있다.|격언
오늘의 명언 공부 ✨|지치면 쉬어라. 포기하진 말라.|격언
오늘의 명언 공부 ✨|평화를 만드는 자가 복이 있다.|마태 5:9
오늘의 명언 공부 ✨|옳은 일을 옳은 방법으로.|격언
오늘의 명언 공부 ✨|오늘의 선택이 내일의 나다.|격언
오늘의 명언 공부 ✨|끝까지 가라. 끝은 생각보다 가깝다.|격언
`;

const idioms = RAW.trim().split('
').map(line => { const [term, meaning, origin] = line.split('|'); return { term, meaning, origin }; });

      const search = document.getElementById('search');
      const card = document.getElementById('card');
      const front = document.getElementById('front');
      const back = document.getElementById('back');
      const meta = document.getElementById('meta');
      const soundToggle = document.getElementById('soundToggle');

      let allIdx = [...Array(idioms.length).keys()];
      let order = shuffle([...allIdx]);
      let idx = 0;

      function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } return arr; }

      function showCard(){
        if(order.length === 0){ front.innerHTML = `<div style='font-size:18px'>검색 결과가 없습니다.</div>`; return; }
        const cur=idioms[order[idx]];
        front.innerHTML=`<div style='font-size:22px;font-weight:700;'>${cur.term}</div>`;
        back.innerHTML=`<div style='font-size:18px;line-height:1.4;'>${cur.meaning}</div><div style='margin-top:10px;font-size:14px;opacity:0.7;'>${cur.origin}</div>`;
        meta.innerText=`${idx+1}/${order.length}`;
      }

      function flipCard(){ card.classList.toggle('is-flipped'); playSound(); }
      function next(){ card.classList.remove('is-flipped'); idx=(idx+1)%order.length; showCard(); }
      function prev(){ card.classList.remove('is-flipped'); idx=(idx-1+order.length)%order.length; showCard(); }
      function reshuffle(){ order=shuffle(order); idx=0; showCard(); }

      function playSound(){ if(!soundToggle.checked) return; const ctx=new (window.AudioContext||window.webkitAudioContext)(); const osc=ctx.createOscillator(); const gain=ctx.createGain(); const now=ctx.currentTime; osc.type='triangle'; osc.frequency.setValueAtTime(300,now); osc.frequency.exponentialRampToValueAtTime(800,now+0.15); gain.gain.setValueAtTime(0.2,now); gain.gain.exponentialRampToValueAtTime(0.001,now+0.15); osc.connect(gain).connect(ctx.destination); osc.start(now); osc.stop(now+0.15); }

      document.getElementById('flip').onclick=flipCard;
      document.getElementById('next').onclick=next;
      document.getElementById('prev').onclick=prev;
      document.getElementById('shuffle').onclick=reshuffle;
      card.onclick=flipCard;

      showCard();
    </script>
  </body>
</html>
