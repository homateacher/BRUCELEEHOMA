<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í˜¸ë§ˆë§¨ ì§„ë¦¬ì˜ ëª…ì–¸ 200</title>
    <style>
      body {
        font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        background: #f8f6f1;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1 { font-size: 28px; font-weight: 800; margin-bottom: 16px; }
      input, button { border-radius: 10px; border: 1px solid #7c735f; padding: 10px 14px; background: #fefcf7; }
      .toolbar { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; justify-content: center; }
      .scene { width: 90%; max-width: 640px; height: 320px; perspective: 1000px; }
      .card { width: 100%; height: 100%; position: relative; transition: transform 0.6s; transform-style: preserve-3d; border-radius: 22px; box-shadow: 0 12px 28px rgba(0,0,0,0.08), 0 6px 14px rgba(0,0,0,0.05); border: 1px solid #d8cbb2; }
      .card.is-flipped { transform: rotateY(180deg); }
      .card__face {
        position: absolute; inset: 0; backface-visibility: hidden; border-radius: 22px;
        display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 26px;
        background: linear-gradient(145deg, #fffdfa 0%, #fff7ea 50%, #fff3de 100%);
        font-size: 22px; line-height: 1.4;
      }
      .card__face--back { transform: rotateY(180deg); }
      .navs { display: flex; justify-content: space-between; width: 200px; margin: 10px 0; }
      .muted { opacity: .6; font-size: 14px; }
    </style>
  </head>
  <body>
    <h1>ğŸŒŸ í˜¸ë§ˆë§¨ ì§„ë¦¬ì˜ ëª…ì–¸ 200</h1>
    <div class="toolbar">
      <input id="search" placeholder="ê²€ìƒ‰(ëª…ì–¸/ì¸ë¬¼/ì¶œì²˜)" />
      <button id="shuffle">ğŸ”€ ì…”í”Œ</button>
      <button id="flip">â†©ï¸ ë’¤ì§‘ê¸°</button>
      <label><input type="checkbox" id="soundToggle" checked /> ì‚¬ìš´ë“œ</label>
    </div>

    <div class="scene" id="scene">
      <div class="card" id="card">
        <div class="card__face card__face--front" id="front">ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨</div>
        <div class="card__face card__face--back" id="back"></div>
      </div>
    </div>

    <div class="navs">
      <button id="prev">â—€</button>
      <button id="next">â–¶</button>
    </div>
    <div id="meta" class="muted"></div>

    <script>
      const idioms = [
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ë¶ˆê°€ëŠ¥ì€ ë…¸ë ¥í•˜ì§€ ì•ŠëŠ” ì‚¬ëŒì˜ í•‘ê³„ë‹¤.", origin: "ë§ˆì´í´ ì¡°ë˜ (ë†êµ¬ì„ ìˆ˜)" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ë¯¿ëŠ” ìì—ê²ŒëŠ” ëŠ¥ì¹˜ ëª»í•¨ì´ ì—†ëŠë‹ˆë¼.", origin: "ì˜ˆìˆ˜ë‹˜ (ëˆ„ê°€ë³µìŒ 1:37)" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "í•œ ê°€ì§€ ë°œì°¨ê¸°ë¥¼ ë§Œ ë²ˆ ì—°ìŠµí•œ ì‚¬ëŒì„ ë‘ë ¤ì›Œí•œë‹¤.", origin: "ì´ì†Œë£¡" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ë‚˜ëŠ” ê²°ì½” íŒ¨ë°°í•˜ì§€ ì•ŠëŠ”ë‹¤. ì´ê¸°ê±°ë‚˜ ë°°ìš°ê±°ë‚˜ ë‘˜ ì¤‘ í•˜ë‚˜ë‹¤.", origin: "ë„¬ìŠ¨ ë§Œë¸ë¼" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ì˜¤ëŠ˜ ë‚´ê°€ í˜ë¦° ë•€ì€ ë‚´ì¼ì˜ ë¯¸ì†Œê°€ ëœë‹¤.", origin: "ìš°ì‚¬ì¸ ë³¼íŠ¸" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ì‹¤íŒ¨ëŠ” ë„˜ì–´ì§€ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë‹¤ì‹œ ì¼ì–´ë‚˜ì§€ ì•ŠëŠ” ê²ƒì´ë‹¤.", origin: "ë©”ë¦¬ í”½í¬ë“œ" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ì‚¬ëŒì€ ìì‹ ì´ ìƒê°í•œ ëŒ€ë¡œ ëœë‹¤.", origin: "ë„í”„ ì™ˆë„ ì—ë¨¸ìŠ¨" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ì‹œê°„ì„ ì‚¬ë‘í•˜ë¼. ì¸ìƒì€ ì‹œê°„ìœ¼ë¡œ ì´ë£¨ì–´ì ¸ ìˆë‹¤.", origin: "ì´ì†Œë£¡" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ë¯¿ìŒì€ ë°”ë¼ëŠ” ê²ƒë“¤ì˜ ì‹¤ìƒì´ìš”, ë³´ì§€ ëª»í•˜ëŠ” ê²ƒë“¤ì˜ ì¦ê±°ë‹¤.", origin: "íˆë¸Œë¦¬ì„œ 11:1" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ì„±ê³µì€ ì‘ì€ ë…¸ë ¥ì´ ë°˜ë³µëœ ê²°ê³¼ë‹¤.", origin: "ë¡œë²„íŠ¸ ì½œë¦¬ì–´" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ë‘ë ¤ì›€ì„ ì´ê¸°ëŠ” ìœ ì¼í•œ ë°©ë²•ì€ ê·¸ê²ƒì„ ë§ˆì£¼í•˜ëŠ” ê²ƒì´ë‹¤.", origin: "ì„¸ë ˆë‚˜ ìœŒë¦¬ì—„ìŠ¤" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "í–‰ë™ì´ ëª¨ë“  ì„±ê³µì˜ ê¸°ì´ˆì´ë‹¤.", origin: "íŒŒë¸”ë¡œ í”¼ì¹´ì†Œ" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ê³ í†µì€ ì¼ì‹œì ì´ì§€ë§Œ í¬ê¸°ëŠ” ì˜ì›í•˜ë‹¤.", origin: "ëœìŠ¤ ì•”ìŠ¤íŠ¸ë¡±" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "í›ˆë ¨ì—ì„œ í˜ë¦° ë•€ì€ ì „ìŸì—ì„œ í”¼ë¥¼ ì¤„ì¸ë‹¤.", origin: "ë…¸ë¨¼ ìŠˆì›Œì¸ ì½”í”„" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ê¿ˆì„ ê¾¸ëŠ” ì‚¬ëŒë§Œì´ ê¸°ì ì„ ë§Œë“ ë‹¤.", origin: "ì›”íŠ¸ ë””ì¦ˆë‹ˆ" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ë¯¿ìŒìœ¼ë¡œ í–‰í•˜ë¼. ê²°ê³¼ëŠ” í•˜ë‚˜ë‹˜ê»˜ ìˆë‹¤.", origin: "ì„±ê²½ (ì•¼ê³ ë³´ì„œ)" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ìŠ¹ë¦¬ëŠ” ê°€ì¥ ëˆì§ˆê¸´ ì‚¬ëŒì—ê²Œ ëŒì•„ê°„ë‹¤.", origin: "ë‚˜í´ë ˆì˜¹ ë³´ë‚˜íŒŒë¥´íŠ¸" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "í–‰ë™ì´ ë‘ë ¤ì›€ì„ ëª°ì•„ë‚¸ë‹¤.", origin: "ë°ì¼ ì¹´ë„¤ê¸°" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ìì‹ ì˜ í•œê³„ë¥¼ ë„˜ëŠ” ìˆœê°„, ì§„ì§œ ì„±ì¥ì´ ì‹œì‘ëœë‹¤.", origin: "í˜¸ë§ˆë§¨" },
        { term: "ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨", meaning: "ì‘ì€ ìŠµê´€ì´ í° ìš´ëª…ì„ ë§Œë“ ë‹¤.", origin: "ì œì„ìŠ¤ í´ë¦¬ì–´" }
        // ì´í›„ 200ê°œ ì´ìƒ í™•ì¥ (ìš´ë™ì„ ìˆ˜, ì² í•™ì, ì˜ˆìˆ˜ë‹˜, ì„±ê²½, ì§€ë„ì, ì˜ˆìˆ ê°€, ê³¼í•™ì ë“± ë‹¤ì–‘í•˜ê²Œ í¬í•¨)
      ];

      const search = document.getElementById('search');
      const card = document.getElementById('card');
      const front = document.getElementById('front');
      const back = document.getElementById('back');
      const meta = document.getElementById('meta');
      const soundToggle = document.getElementById('soundToggle');

      let allIdx = [...Array(idioms.length).keys()];
      let order = shuffle([...allIdx]);
      let idx = 0;

      function shuffle(arr){ for(let i=arr.length-1;i>0;i--){ const j=Math.floor(Math.random()*(i+1)); [arr[i],arr[j]]=[arr[j],arr[i]]; } return arr; }

      function showCard(){
        if(order.length === 0){ front.innerHTML = `<div style='font-size:18px'>ê²€ìƒ‰ ê²°ê³¼ê°€ ì—†ìŠµë‹ˆë‹¤.</div>`; return; }
        const cur=idioms[order[idx]];
        front.innerHTML=`<div style='font-size:22px;font-weight:700;'>${cur.term}</div>`;
        back.innerHTML=`<div style='font-size:18px;line-height:1.4;'>${cur.meaning}</div><div style='margin-top:10px;font-size:14px;opacity:0.7;'>${cur.origin}</div>`;
        meta.innerText=`${idx+1}/${order.length}`;
      }

      function flipCard(){ card.classList.toggle('is-flipped'); playSound(); }
      function next(){ card.classList.remove('is-flipped'); idx=(idx+1)%order.length; showCard(); }
      function prev(){ card.classList.remove('is-flipped'); idx=(idx-1+order.length)%order.length; showCard(); }
      function reshuffle(){ order=shuffle(order); idx=0; showCard(); }

      function playSound(){ if(!soundToggle.checked) return; const ctx=new (window.AudioContext||window.webkitAudioContext)(); const osc=ctx.createOscillator(); const gain=ctx.createGain(); const now=ctx.currentTime; osc.type='triangle'; osc.frequency.setValueAtTime(300,now); osc.frequency.exponentialRampToValueAtTime(800,now+0.15); gain.gain.setValueAtTime(0.2,now); gain.gain.exponentialRampToValueAtTime(0.001,now+0.15); osc.connect(gain).connect(ctx.destination); osc.start(now); osc.stop(now+0.15); }

      document.getElementById('flip').onclick=flipCard;
      document.getElementById('next').onclick=next;
      document.getElementById('prev').onclick=prev;
      document.getElementById('shuffle').onclick=reshuffle;
      card.onclick=flipCard;

      showCard();
    </script>
  </body>
</html>
