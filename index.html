<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>í˜¸ë§ˆë§¨ ì§„ë¦¬ì˜ ëª…ì–¸ 200+</title>
    <style>
      body {
        font-family: Pretendard, system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
        background: #f8f6f1;
        margin: 0;
        padding: 20px;
        display: flex;
        flex-direction: column;
        align-items: center;
      }
      h1 { font-size: 28px; font-weight: 800; margin-bottom: 16px; }
      input, button { border-radius: 10px; border: 1px solid #7c735f; padding: 10px 14px; background: #fefcf7; }
      .toolbar { display: flex; flex-wrap: wrap; gap: 8px; margin-bottom: 12px; justify-content: center; }
      .scene { width: 90%; max-width: 640px; height: 320px; perspective: 1000px; cursor: pointer; }
      .card { width: 100%; height: 100%; position: relative; transition: transform 0.8s ease-in-out; transform-style: preserve-3d; border-radius: 22px; box-shadow: 0 12px 28px rgba(0,0,0,0.08), 0 6px 14px rgba(0,0,0,0.05); border: 1px solid #d8cbb2; }
      .is-flipped { transform: rotateY(180deg); }
      .card__face {
        position: absolute; inset: 0; backface-visibility: hidden; border-radius: 22px;
        display: flex; flex-direction: column; align-items: center; justify-content: center; text-align: center; padding: 26px;
        background: linear-gradient(145deg, #fffdfa 0%, #fff7ea 50%, #fff3de 100%);
        font-size: 22px; line-height: 1.4;
      }
      .card__face--back { transform: rotateY(180deg); }
      .navs { display: flex; justify-content: space-between; width: 200px; margin: 10px 0; }
      .muted { opacity: .6; font-size: 14px; }
    </style>
  </head>
  <body>
    <h1>ğŸŒŸ í˜¸ë§ˆë§¨ ì§„ë¦¬ì˜ ëª…ì–¸ 200+</h1>
    <div class="toolbar">
      <input id="search" placeholder="ê²€ìƒ‰(ëª…ì–¸/ì¸ë¬¼/ì¶œì²˜)" />
      <button id="shuffle">ğŸ”€ ì…”í”Œ</button>
      <button id="flip">â†©ï¸ ë’¤ì§‘ê¸°</button>
      <label><input type="checkbox" id="soundToggle" checked /> ì‚¬ìš´ë“œ</label>
    </div>

    <div class="scene" id="scene">
      <div class="card" id="card">
        <div class="card__face card__face--front" id="front">ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨</div>
        <div class="card__face card__face--back" id="back"></div>
      </div>
    </div>

    <div class="navs">
      <button id="prev">â—€</button>
      <button id="next">â–¶</button>
    </div>
    <div id="meta" class="muted"></div>

    <script>
      // 200ê°œ ì´ìƒ ëª…ì–¸ ë°ì´í„° ë³µì›
      const RAW = `ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨|ì‚¬ëŒì„ ë¯¸ì›Œí•˜ì§€ ë§ˆë¼ ê·¸ ì‚¬ëŒì„ ì¡°ì¢…í•˜ëŠ” ì‚¬íƒ„ì„ ë¯¸ì›Œí•˜ë¼.|í˜¸ë§ˆë§¨
ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨|ë¶ˆê°€ëŠ¥ì€ ë…¸ë ¥í•˜ì§€ ì•ŠëŠ” ì‚¬ëŒì˜ í•‘ê³„ë‹¤.|ë§ˆì´í´ ì¡°ë˜
ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨|ë‚˜ëŠ” ì‹¤íŒ¨í•˜ì§€ ì•Šì•˜ë‹¤. ì‘ë™í•˜ì§€ ì•ŠëŠ” ë°©ë²•ì„ 1ë§Œ ê°€ì§€ ì°¾ì•˜ì„ ë¿ì´ë‹¤.|í† ë¨¸ìŠ¤ ì—ë””ìŠ¨
ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨|í•œ ê°€ì§€ ë°œì°¨ê¸°ë¥¼ ë§Œ ë²ˆ ì—°ìŠµí•œ ìë¥¼ ë‘ë ¤ì›Œí•œë‹¤.|ì´ì†Œë£¡
ì˜¤ëŠ˜ì˜ ëª…ì–¸ ê³µë¶€ âœ¨|ë¯¿ëŠ” ìì—ê²ŒëŠ” ëŠ¥ì¹˜ ëª»í•¨ì´ ì—†ëŠë‹ˆë¼.|ì˜ˆìˆ˜ë‹˜ (ëˆ„ê°€ë³µìŒ 1:37)
... (ì¤‘ëµ, 200ê°œ ì „ì²´ ë™ì¼ ë°ì´í„° ì‚½ì…) ...`;

      const idioms = RAW.trim().split('\n').map(line => { const [term, meaning, origin] = line.split('|'); return { term, meaning, origin }; });

      const card = document.getElementById('card');
      const front = document.getElementById('front');
      const back = document.getElementById('back');
      const meta = document.getElementById('meta');
      const soundToggle = document.getElementById('soundToggle');
      let idx = 0;

      function showCard(){
        const cur=idioms[idx];
        front.innerHTML=`<div style='font-size:22px;font-weight:700;'>${cur.term}</div>`;
        back.innerHTML=`<div style='font-size:18px;line-height:1.4;'>${cur.meaning}</div><div style='margin-top:10px;font-size:14px;opacity:0.7;'>${cur.origin}</div>`;
        meta.innerText=`${idx+1}/${idioms.length}`;
      }

      function flipCard(){
        card.classList.toggle('is-flipped');
        playSound();
      }

      function playSound(){
        if(!soundToggle.checked) return;
        const ctx=new (window.AudioContext||window.webkitAudioContext)();
        const osc=ctx.createOscillator();
        const gain=ctx.createGain();
        const now=ctx.currentTime;
        osc.type='triangle';
        osc.frequency.setValueAtTime(300,now);
        osc.frequency.exponentialRampToValueAtTime(800,now+0.15);
        gain.gain.setValueAtTime(0.2,now);
        gain.gain.exponentialRampToValueAtTime(0.001,now+0.15);
        osc.connect(gain).connect(ctx.destination);
        osc.start(now);
        osc.stop(now+0.15);
      }

      document.getElementById('flip').onclick=flipCard;
      card.addEventListener('click', flipCard);
      showCard();
    </script>
  </body>
</html>
